server:
  port: 8080

spring:
  datasource:
    driver-class-name: com.p6spy.engine.spy.P6SpyDriver
    url: jdbc:p6spy:mysql://${DB_HOST}:3306/forum?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  main:
    allow-circular-references: true

  redis:
    host: ${REDIS_HOST}
    port: 6379
    database: ${REDIS_DATABASE}
    password: ${REDIS_PASSWORD}
    jedis:
      pool:
        max-active: 8
        max-wait: 1ms
        max-idle: 4
        min-idle: 0

mybatis:
  mapper-locations: classpath:mapper/*.xml
  configuration:
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl

pagehelper:
  helperDialect: mysql
  reasonable: true
  supportMethodsArguments: true
  params: count=countSql

authentication:
  user:
    expire: 3600
    priKey: key/pri.key
    pubKey: key/pub.key

j2cache:
  open-spring-cache: true
  cache-clean-mode: passive
  allow-null-values: true
  redis-client: lettuce
  l2-cache-open: true
  broadcast: net.oschina.j2cache.cache.support.redis.SpringRedisPubSubPolicy
  L1:
    provider_class: caffeine
  L2:
    provider_class: net.oschina.j2cache.cache.support.redis.SpringRedisProvider
    config_section: lettuce
  sync_ttl_to_redis: true
  default_cache_null_object: false
  serialization: fst

caffeine:
  properties: /j2cache/caffeine.properties

lettuce:
  mode: single
  storage: generic
  channel: j2cache
  scheme: redis
  hosts: ${REDIS_HOST}:6379
  password: ${REDIS_PASSWORD}
  database: ${REDIS_DATABASE}
  maxTotal: 100
  maxIdle: 10
  minIdle: 10
  timeout: 10000
